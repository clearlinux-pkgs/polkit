From d24f7593f021c8048d754be8def14abbe5ea27a4 Mon Sep 17 00:00:00 2001
From: Ikey Doherty <michael.i.doherty@intel.com>
Date: Mon, 3 Apr 2017 15:34:03 +0100
Subject: [PATCH] data: Use stateless system directories for d-bus, PAM and
 default rules

Signed-off-by: Ikey Doherty <michael.i.doherty@intel.com>
---
 data/Makefile.am              | 4 ++--
 src/polkitbackend/Makefile.am | 2 +-
 2 files changed, 3 insertions(+), 3 deletions(-)

diff --git a/data/Makefile.am b/data/Makefile.am
index fe0f1d5..200274a 100644
--- a/data/Makefile.am
+++ b/data/Makefile.am
@@ -15,7 +15,7 @@ $(service_DATA): $(service_in_files) Makefile
 
 # ----------------------------------------------------------------------------------------------------
 
-dbusconfdir = $(sysconfdir)/dbus-1/system.d
+dbusconfdir = $(datadir)/dbus-1/system.d
 dbusconf_in_files = org.freedesktop.PolicyKit1.conf.in
 dbusconf_DATA = $(dbusconf_in_files:.conf.in=.conf)
 
@@ -25,7 +25,7 @@ $(dbusconf_DATA): $(dbusconf_in_files) Makefile
 # ----------------------------------------------------------------------------------------------------
 
 if POLKIT_AUTHFW_PAM
-pamdir = $(sysconfdir)/pam.d
+pamdir = $(datadir)/pam.d
 pam_DATA = polkit-1
 endif
 
diff --git a/src/polkitbackend/Makefile.am b/src/polkitbackend/Makefile.am
index 5da7bdf..b88c711 100644
--- a/src/polkitbackend/Makefile.am
+++ b/src/polkitbackend/Makefile.am
@@ -64,7 +64,7 @@ libpolkit_backend_1_la_LIBADD =                               		\
 	$(LIBJS_LIBS)							\
         $(NULL)
 
-rulesdir = $(sysconfdir)/polkit-1/rules.d
+rulesdir = $(datadir)/polkit-1/rules.d
 rules_DATA = 50-default.rules
 
 # ----------------------------------------------------------------------------------------------------
-- 
2.12.2

